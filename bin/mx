#!/usr/bin/env bash
# choose tmuxp session and attach to one

# can't attach within tmux
# WIP: https://github.com/tmux-python/tmuxp/pull/501
if [ $TERM = "tmux-256color" ]; then
  echo "doesn't work within tmux"
  exit 0
fi

session=$(tmuxp ls | fzf)

if [ $session ]; then
  tmuxp load -y "${session}"
  # otherwise term will exit after detaching
  zsh
fi
